<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org" xmlns:tiles="http://www.thymeleaf.org">
	<head>
		<title>Spring Advanced Ivan Pronin - Login</title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<link rel="stylesheet" type="text/css" media="all" href="../../css/stsm.css" th:href="@{/css/stsm.css}" />
		<link rel="stylesheet" type="text/css" media="all" href="../../css/app.css" th:href="@{/css/app.css}" />
	</head>
	<body>
		<div>
			<img src="../../images/stsmlogo.png" alt="STSM logo" title="STSM logo"
			th:src="@{/images/stsmlogo.png}" th:alt-title="#{title.application}" />
		</div>
		
		<div class="menu">
			<a href="/" th:href="@{/}">Home</a>
			<a href="/booking-service.html" th:href="@{/booking-service}">Booking Service</a>
			<a href="/user-service.html" th:href="@{/user-service}">User Service</a>
			<a href="/event-service.html" th:href="@{/event-service}">Event service</a>
		</div>
		
		<form th:if="${#httpServletRequest.remoteUser != null}" th:action="@{/logout}" method="post">
   			 <input type="submit" value="Log out" />
		</form>		
		
		<div th:if="${#httpServletRequest.remoteUser != null}">
    		<h2 th:text="'Hello, ' + ${#httpServletRequest.remoteUser} + '!'">
    		      sample_user
    		</h2>
		</div>

		<div>
			<h1>Welcome to login page!</h1>
		</div>
		
	    <div th:if="${#httpServletRequest.remoteUser == null}" tiles:fragment="content">
	        <form name="f" th:action="@{/login}" method="post">               
	            <fieldset>
	                <legend>Please Login</legend>
	                <div th:if="${param.error}" class="alert alert-error">    
	                    Invalid username and password.
	                </div>
	                <div th:if="${param.logout}" class="alert alert-success"> 
	                    You have been logged out.
	                </div>
	                <label for="username">Username</label>
	                <input type="text" id="username" name="username"/>        
	                <label for="password">Password</label>
	                <input type="password" id="password" name="password"/> 
	                <label for="rememberme">Remember Me</label>
	                <input type="checkbox" id="rememberme" name="remember-me"> 
	                <div class="form-actions">
	                    <button type="submit" class="btn">Log in</button>
	                </div>
	            </fieldset>
	        </form>
	    </div>		
	</body>
</html>